<div class="md-container md-container_panel" id="castdevices-vue">
    <div class="md-header-title">
        <div class="row">
            <div class="col">
                <button @click="close()" class="md-close-btn"></button>
            </div>
            <div class="col-auto">
                Cast To Device
            </div>
            <div class="col">

            </div>
        </div>
    </div>
    <div class="md-body" style="overflow-y: overlay">
        <div class="md-labeltext">Chromecast / Miracast</div>
        <div class="md-option-container" style="margin-top: 12px;margin-bottom: 12px;">
            <template v-if="!scanning">
                <template v-for="(device) in devices.cast">
                    <div class="md-option-line" style="cursor: pointer" @click="setCast(device.host)">
                        <div class="md-option-segment">
                            {{ device.name }}
                            <br>
                            <small>{{ device.host }}</small>
                        </div>
                        <div class="md-option-segment_auto" style="display: flex;justify-content: center;align-items: center" v-if="activeCasts.includes(device.host)">
                            Connected
                        </div>
                    </div>
                </template>
            </template>
            <template v-else>
                <div class="md-option-line" style="cursor: pointer">
                    <div class="md-option-segment">
                        Scanning...
                    </div>
                </div>
            </template>
        </div>
        <div class="md-labeltext" style="opacity:0.5;">AirPlay</div>
        <div class="md-option-container" style="margin-top: 12px;margin-bottom: 12px;opacity:0.5;">
            <div class="md-option-line">
                <div class="md-option-segment">
                    AirPlay is still under development
                </div>
            </div>
        </div>
    </div>
    <div class="md-footer">
        <div class="row">
            <div class="col" v-if="activeCasts.length != 0">
                <button style="width:100%" @click="stopCasting()" class="md-btn md-btn-block md-btn-primary">Stop casting to all devices</button>
            </div>
            <div class="col">
                <button style="width:100%" class="md-btn md-btn-block" @click="scan()">Scan</button>
            </div>
        </div>
    </div>
</div>
<style>
    .cast_logo {
        background: url("ameres://icons/webui/cast.svg");
        width:64px;
        height: 64px;
        color:white;
        background-size: cover;
        filter:invert(1);
        margin: 0 auto;
    }
</style>